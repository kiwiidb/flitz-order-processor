{
    "version": 2,
    "builds": [{ "src": "*.go", "use": "@now/go" }],
    "build": {
      "env": {
        "GIT_CREDENTIALS": "@git-credentials"
      }
    },
    "env": {
        "VOUCHERTEMPLATER_FIREBASEADMINCREDENTIALS": "@firebase-credentials",
        "VOUCHERTEMPLATER_GOOGLECLOUDSTORAGEEMAIL":"firebase-adminsdk-zatdh@vue-golang-firebase-test.iam.gserviceaccount.com",
        "VOUCHERTEMPLATER_QRCODEDIMENSION":"136",
        "VOUCHERTEMPLATER_QRCODEXCOORDINATE":"278",
        "VOUCHERTEMPLATER_QRCODEYCOORDINATE":"795",
        "VOUCHERTEMPLATER_STORAGEBUCKETURL":"vue-golang-firebase-test.appspot.com",
        "VOUCHERTEMPLATER_TEMPLATEFOLDER":"templates",
        "VOUCHERTEMPLATER_TEMPFOLDER":"/tmp",
        "VOUCHERTEMPLATER_UPLOADEDUNZIPFOLDER":"unzipped_vouchers",
        "VOUCHERTEMPLATER_UPLOADEDZIPFOLDER":"zipped_vouchers",
        "CONFIG_URI": "mongodb+srv://<user>:<password>@cluster0-y9mrc.mongodb.net/test?retryWrites=true&w=majority",
        "CONFIG_USER": "admin",
        "CONFIG_PASSWORD": "@mongo-password",
        "CONFIG_DATABASENAME": "tokendb",
        "CONFIG_METADATACOLLECTIONNAME": "token_metadata-production"

      },
      "routes": [
        { "src": "/store_batch",
          "headers": {
                      "Access-Control-Allow-Methods": "POST, OPTIONS",
                      "Access-Control-Allow-Origin": "*",
                      "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept, Authorization"
          },
          "dest": "adminhandler/handler.go" 
        },
        { "src": "/webhook",
          "headers": {
                      "Access-Control-Allow-Methods": "POST, OPTIONS",
                      "Access-Control-Allow-Origin": "*",
                      "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
          },
          "dest": "orderhandler/webhookhandler.go" 
        },
        { 
          "src": "/",
          "status": 404
        }
      ]
}